<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relat√≥rio T√©cnico - Mobilidade em Doen√ßas Infecciosas</title>
    <link rel="stylesheet" href="static/css/style.css">
    <style>
        html {
            scroll-behavior: smooth;
        }
        li:target {
            background-color: #e8f0fe;
            border-left: 4px solid #007bff;
            padding-left: 10px;
            transition: all 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="navigation">
        <a href="index.html" class="nav-button">üìä Ver Dashboard</a>
    </div>

    <div class="intro-text">
        <h1>An√°lise da Mobilidade Hospitalar para Interna√ß√µes no SUS</h1>

        <h3>1. Introdu√ß√£o</h3>
        <p>
            O Sistema √önico de Sa√∫de (SUS) opera sob a diretriz da regionaliza√ß√£o,
            buscando garantir que o acesso √† sa√∫de seja descentralizado e pr√≥ximo ao cidad√£o.
            No entanto, a infraestrutura para tratamento de alta complexidade ou doen√ßas
            espec√≠ficas, como as infecciosas, frequentemente se concentra em polos regionais.
            Isso gera um fen√¥meno de "migra√ß√£o para sa√∫de", onde pacientes precisam percorrer 
            grandes dist√¢ncias para obter atendimento.
        </p>
        <p>
            Este projeto investiga esse fen√¥meno utilizando dados de interna√ß√µes para mapear os fluxos reais de pacientes. Diferente de abordagens te√≥ricas,
            este estudo baseia-se na evid√™ncia emp√≠rica de onde os pacientes residem versus onde
            foram efetivamente internados, permitindo uma auditoria geogr√°fica da efici√™ncia da
            rede hospitalar brasileira entre os anos de 2014 e 2024.
        </p>

        <h3>2. Objetivos do Projeto</h3>
        <p>
            O objetivo central foi desenvolver uma plataforma anal√≠tica interativa que permita a gestores e pesquisadores:
        </p>
        <ul>
            <li><strong>Quantificar</strong> o volume de deslocamentos intermunicipais para interna√ß√µes no SUS;</li>
            <li><strong>Mapear</strong> as dist√¢ncias percorridas pelos pacientes, identificando "vazios assistenciais";</li>
            <li><strong>Detectar</strong> comunidades naturais de sa√∫de, ou seja, grupos de munic√≠pios que funcionam como sistemas integrados na pr√°tica, independente das fronteiras administrativas estaduais.</li>
        </ul>
        
        <h3>3. Metodologia</h3>
        <p>
            A metodologia foi estruturada em tr√™s pilares: Engenharia de Dados,
            Ci√™ncia de Redes e Desenvolvimento Web.
        </p>

        <h4>3.1 Engenharia de Dados (Backend & ETL)</h4>
        <p>
            O processamento dos dados foi realizado em Python, seguindo um pipeline rigoroso:
        </p>
        
        <h5>3.1.1 Fonte de Dados</h5>
        <p>
        Utilizou-se o <strong>Sistema de Informa√ß√µes Hospitalares</strong> (SIH-SUS). A extra√ß√£o foi
        automatizada atrav√©s da biblioteca <a href="#ref-pysus"><code>PySUS</code></a>, baixando arquivos para
        todos os estados brasileiros, cobrindo a s√©rie hist√≥rica de 2014 a 2024. 
        O SIH √© um sistema de registro administrativo que coleta e processa dados de
        todas as interna√ß√µes hospitalares financiadas pelo SUS. Ele √© utilizado principalmente
        para motivos financeiros, rastreando quais foram os servi√ßos prestados pelos hospitais.
        </p>
        <p>
        Desse conjunto de dados, foram utilizados os seguintes dados:
        <ul>
            <li>Munic√≠pio e estado de resid√™ncia do internado;</li>
            <li>Munic√≠pio e estado onde ocorreu a interna√ß√£o;</li>
            <li>Diagn√≥stico principal registrado como causa da interna√ß√£o;</li>
            <li>Ano da interna√ß√£o.</li>
        </ul>
        Foram utilizados dados tamb√©m da <a href="#ref-pcdas"><strong>Plataforma de Ci√™ncia de Dados aplicada √† Sa√∫de</strong> (PCDaS)</a>. Os dados utilizados foram dicion√°rios para os dados do SIH-SUS, visto que tanto os munic√≠pios
        e o diagn√≥stico principal eram guardados em c√≥digo no dataset original.
        </p>
        <p>
        Foram tamb√©m utilizados dados de mapa do Brasil, disponibilizados pelo <a href="#ref-ibge-malhas">IBGE</a>, para a cria√ß√£o
        das visualiza√ß√µes.
        </p>

        <h5>3.1.2 Filtragem e Agrega√ß√£o:</h5> 
        <p>
            Os dados foram agrupados por munic√≠pio de resid√™ncia, munic√≠pio de interna√ß√£o,
            diagn√≥stico principal e ano, adicionando a informa√ß√£o de n√∫mero de interna√ß√µes por
            cada um desses grupos e tamb√©m a dist√¢ncia entre os munic√≠pios de resid√™ncia e interna√ß√£o.
        </p>
        <p>
            O dado principal que queremos extrair desses dados √© o grafo direcionado formado por munic√≠pios
            de resid√™ncia e de interna√ß√£o, com a quantidade de hospitaliza√ß√µes e distancia sendo atributos das
            arestas, sendo os dados de diagn√≥stico e ano adicionados para filtragem dos dados por parte dos usu√°rios
            no <em>dashboard</em>.
        </p>

        <h4>3.2 An√°lise de Redes</h4>
        <p>
            Para identificar estruturas oculta da rede de sa√∫de,
            os dados foram modelados como um grafo direcionado e ponderado:
        </p>
        <ul>
            <li><strong>N√≥s (V√©rtices):</strong> Munic√≠pios brasileiros.</li>
            <li><strong>Arestas (Links):</strong> Fluxo de pacientes entre resid√™ncia e interna√ß√£o.</li>
            <li><strong>Peso:</strong> Volume de interna√ß√µes.</li>
            <li><strong>Detec√ß√£o de Comunidades:</strong> Utilizou-se a biblioteca
                <code>igraph</code> e o algoritmo <em>Infomap</em> para detectar
                "comunidades". O algoritmo baseia-se na teoria da informa√ß√£o para minimizar a descri√ß√£o do caminho de um "caminhante aleat√≥rio" na rede, sendo ideal para capturar fluxos.
                Essas comunidades representam grupos de munic√≠pios que trocam pacientes
                intensamente entre si, revelando "Regi√µes de Sa√∫de" baseadas
                no comportamento da popula√ß√£o.</li>
        </ul>

        <h4>3.3 Visualiza√ß√£o</h4>
        <p>
            Para a apresenta√ß√£o dos gr√°ficos, foi escolhido apresent√°-los em um site, permitindo f√°cil
            acesso e maior intera√ß√£o. Para viabilizar a hospedagem do site, foi constru√≠do como um
            site est√°tico utilizando HTML5, CSS3 e JavaScript (D3.js), permitindo que o site seja hospedado gratuitamente no GitHub Pages.
        </p>

        <h3>4. Resultados e Interatividade</h3>
        <p>
            O produto final √© um painel anal√≠tico composto por tr√™s visualiza√ß√µes principais, desenvolvidas com a biblioteca <strong>D3.js</strong>,
            que permitem responder √†s perguntas de pesquisa atrav√©s de explora√ß√£o interativa. Aqui s√£o apresentados os gr√°ficos mostrando os dados dos anos 2014 √† 2024,
            mas no <em>dashboard</em>, √© poss√≠vel filtrar tanto por ano, quanto por diagn√≥stico.
        </p>
        
        <h4>4.1 Mapeamento de Fluxos de Hospitaliza√ß√£o</h4>
        <div class="map-container" style="position: relative; width: 800px; height: 600px;">
            <div class="controls controls-left">
                <button id="show-munis" class="active">Munic√≠pios</button>
                <button id="show-states">Estados</button>
            </div>
            <div class="controls controls-right">
                <button id="reset-zoom-map">Resetar Zoom</button>
            </div>
            <svg id="map" width="800" height="600"></svg>
        </div>
        <p>
            Um grafo geoespacial onde os n√≥s s√£o posicionados conforme coordenadas geogr√°ficas (latitude/longitude) 
            e as arestas representam o fluxo de pacientes. A espessura das linhas √© calculada usando uma escala de raiz quadrada baseada no volume de 
            hospitaliza√ß√µes, permitindo visualizar tanto grandes fluxos quanto conex√µes menores sem polui√ß√£o visual excessiva.
        </p>
        <p>
            <strong>Interatividade:</strong>
            <ul>
                <li><strong>Altern√¢ncia de Escala:</strong> Bot√µes permitem alternar entre a vis√£o (Estados) e (Munic√≠pios). 
                    Esta funcionalidade foi desabilitada para o dashboard por limita√ß√µes de armazenamento.
                </li>
                <li><strong>Filtragem por Origem:</strong> Ao clicar em um estado ou munic√≠pio, 
                    o mapa destaca apenas as conex√µes que se originam daquele local, facilitando a an√°lise de depend√™ncia de uma regi√£o espec√≠fica.
                </li>
                <li><strong>Zoom e Pan:</strong> O usu√°rio pode aproximar e arrastar o mapa para investigar regi√µes densas.</li>
            </ul>
        </p>

        <h4>4.2 An√°lise de Dist√¢ncias</h4>
        
        <h5>4.2.1 Distribui√ß√£o de Dist√¢ncias (Histograma)</h5>
        <div class="histogram-container" style="position: relative; width: 800px; height: 400px;">
            <div class="controls controls-right" style="top: 35px; right: 10px;">
                <label for="state-select">Filtrar por estado:</label>
                <select id="state-select">
                    <option value="ALL">Todos</option>
                </select>
            </div>
            <svg id="histogram" width="800" height="400"></svg>
        </div>
        <p>
            Esta visualiza√ß√£o √© um histograma que apresenta as dist√¢ncias m√©dias de viagem por munic√≠pio, filtrando por estado, ou tamb√©m mostrando o gr√°fico do pa√≠s como um todo. 
            As dist√¢ncias s√£o calculadas segundo o centro geogr√°fico de cada cidade, Ent√£o interna√ß√µes que ocorreram na mesma cidade de resid√™ncia contaram como sendo dist√¢ncia 0.
            O eixo Y representa o n√∫mero de munic√≠pios que se enquadram em cada faixa de dist√¢ncia, permitindo uma an√°lise estat√≠stica da acessibilidade.
        </p>
        <p>
            <strong>Interatividade:</strong>
            <ul>
                <li><strong>Filtro Regional:</strong> Um menu suspenso permite recalcular dinamicamente a distribui√ß√£o de dist√¢ncias apenas para um estado 
                    espec√≠fico. Isso permite comparar perfis distintos, como as longas viagens necess√°rias no Amazonas versus as curtas dist√¢ncias em S√£o Paulo.</li>
            </ul>
        </p>

        <h5>4.2.2 Geografia da Acessibilidade (Mapa Coropl√©tico)</h5>
        <div class="map-container" style="position: relative; width: 800px; height: 600px;">
            <div class="controls controls-right">
                <button id="reset-zoom-choropleth">Resetar Zoom</button>
            </div>
            <svg id="choropleth" width="800" height="600"></svg>
        </div>
        <p>
            Um mapa de calor que utiliza uma escala de cores logar√≠tmica para colorir cada munic√≠pio com base na dist√¢ncia m√©dia
            percorrida por seus residentes, mesma dist√¢ncia apresentada no gr√°fico anterior. A escala logar√≠tmica √© essencial para diferenciar nuances entre munic√≠pios com dist√¢ncias curtas, 
            sem que os valores extremos (viagens > 1000km) ofusquem a visualiza√ß√£o.
        </p>
        <p>
            <strong>Interatividade:</strong>
            <ul>
                <li><strong>Tooltip de Dados:</strong> Ao passar o mouse sobre qualquer munic√≠pio, uma caixa flutuante revela o nome exato e a dist√¢ncia m√©dia em quil√¥metros.</li>
                <li><strong>Navega√ß√£o:</strong> Suporte completo a zoom e arrastar para explorar o territ√≥rio nacional em detalhes.</li>
            </ul>
        </p>

        <h4>4.3 Mapa de munic√≠pios com f√°cil acesso hospitais</h4>
        <div class="map-container" style="position: relative; width: 800px; height: 600px;">
            <div class="controls controls-right">
                <button id="reset-zoom-choropleth-same">Resetar Zoom</button>
            </div>
            <svg id="choropleth-same" width="800" height="600"></svg>
        </div>
        <p>
            Um mapa de calor que utiliza uma escala de cores linear para colorir cada munic√≠pio com base na porcentagem de hospitaliza√ß√µes de pacientes residentes
            do munic√≠pio que foram feitar no pr√≥prio munic√≠pio.
        </p>
        <p>
            <strong>Interatividade:</strong>
            <ul>
                <li><strong>Tooltip de Dados:</strong> Ao passar o mouse sobre qualquer munic√≠pio, uma caixa flutuante revela o nome exato e a dist√¢ncia m√©dia em quil√¥metros.</li>
                <li><strong>Navega√ß√£o:</strong> Suporte completo a zoom e arrastar para explorar o territ√≥rio nacional em detalhes.</li>
            </ul>
        </p>

        <h4>4.4 Detec√ß√£o de Comunidades de Mobilidade</h4>
        <div class="map-container" style="position: relative; width: 800px; height: 600px;">
            <div class="controls controls-right">
                <button id="reset-zoom-communities">Resetar Zoom</button>
            </div>
            <svg id="communities-map" width="800" height="600"></svg>
        </div>
        <div id="community-info" style="margin-top: 20px; padding: 10px; background: #f8f8f8; border: 1px solid #ddd; border-radius: 5px;">
            <p>Clique em um munic√≠pio no mapa para ver detalhes da sua comunidade.</p>
        </div>
        <p>
            Apresenta o resultado do algoritmo <strong>Infomap</strong>, processado via biblioteca <code>igraph</code> em Python. 
            Cada cor representa uma comunidade detectada matematicamente ‚Äî um grupo de munic√≠pios com alto fluxo interno de pacientes.
        </p>
        <p>
            <strong>Interatividade:</strong>
            <ul>
                <li><strong>Destaque de Comunidade (Highlighting):</strong> Ao clicar em qualquer munic√≠pio, a visualiza√ß√£o destaca <strong>toda</strong> a comunidade √† qual ele pertence e esmaece (diminui a opacidade) de todo o restante do mapa. Isso permite visualizar claramente a extens√£o territorial real de uma regi√£o de sa√∫de, que frequentemente ignora fronteiras estaduais.</li>
                <li><strong>Painel de Detalhes:</strong> Um painel informativo abaixo do mapa √© atualizado dinamicamente com estat√≠sticas sobre a comunidade selecionada, como o n√∫mero total de munic√≠pios que a comp√µem.</li>
            </ul>
        </p>

        <h3>5. Conclus√£o</h3>
        <p>
            Este trabalho demonstra o potencial do uso de Big Data p√∫blico para auditoria e planejamento em sa√∫de.
            A plataforma desenvolvida oferece uma vis√£o transparente sobre a mobilidade de pacientes no SUS,
            provendo evid√™ncias emp√≠ricas para gestores otimizarem a aloca√ß√£o de recursos e reduzirem as dist√¢ncias
            percorridas pelos cidad√£os brasileiros em busca de cura. 
        </p>
        
        <h3>6. Refer√™ncias Bibliogr√°ficas</h3>
        <p>
            As seguintes fontes de dados, bibliotecas e documenta√ß√µes foram utilizadas para a elabora√ß√£o deste estudo:
        </p>
        <ul style="list-style-type: none; padding-left: 0;">
            <li id="ref-pcdas" style="margin-bottom: 15px;">
                FIOCRUZ. <strong>Plataforma de Ci√™ncia de Dados aplicada √† Sa√∫de (PCDaS)</strong>. 
                Documenta√ß√£o do Sistema de Informa√ß√µes Hospitalares do SUS (SIH-SUS). 
                Dispon√≠vel em: <a href="https://pcdas.icict.fiocruz.br/conjunto-de-dados/sistema-de-informacoes-hospitalares-do-sus-sihsus/documentacao/" target="_blank">https://pcdas.icict.fiocruz.br/</a>. 
                Acesso em: 24 nov. 2025.
            </li>

            <li id="ref-ibge-malhas" style="margin-bottom: 15px;">
                IBGE. <strong>Malhas Territoriais</strong>. 
                Instituto Brasileiro de Geografia e Estat√≠stica. 
                Dispon√≠vel em: <a href="https://www.ibge.gov.br/geociencias/organizacao-do-territorio/malhas-territoriais/15774-malhas.html" target="_blank">https://www.ibge.gov.br/geociencias/organizacao-do-territorio/malhas-territoriais/15774-malhas.html</a>. 
                Acesso em: 24 nov. 2025.
            </li>

            <li id="ref-ibge-pop" style="margin-bottom: 15px;">
                IBGE. <strong>Estimativas de Popula√ß√£o</strong>. 
                Instituto Brasileiro de Geografia e Estat√≠stica. 
                Dispon√≠vel em: <a href="https://www.ibge.gov.br/estatisticas/sociais/populacao/9103-estimativas-de-populacao.html" target="_blank">https://www.ibge.gov.br/estatisticas/sociais/populacao/9103-estimativas-de-populacao.html</a>. 
                Acesso em: 24 nov. 2025.
            </li>

            <li id="ref-pysus" style="margin-bottom: 15px;">
                PySUS. <strong>PySUS: Python interface for DATASUS</strong>. 
                Biblioteca Python para extra√ß√£o de dados do SUS. 
                Dispon√≠vel em: <a href="https://github.com/AlertaDengue/PySUS" target="_blank">https://github.com/AlertaDengue/PySUS</a>. 
                Acesso em: 24 nov. 2025.
            </li>

            <li id="ref-leiden" style="margin-bottom: 15px;">
                TRAAG, V. A.; WALTMAN, L.; VAN ECK, N. J. 
                <strong>From Louvain to Leiden: guaranteeing well-connected communities</strong>. 
                Scientific Reports, 9, 5233, 2019. 
                Dispon√≠vel em: <a href="https://www.nature.com/articles/s41598-019-41695-z" target="_blank">https://www.nature.com/articles/s41598-019-41695-z</a>.
            </li>
        </ul>
    </div>
    
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script type="module" src="static/js/app.js"></script>
</body>
</html>